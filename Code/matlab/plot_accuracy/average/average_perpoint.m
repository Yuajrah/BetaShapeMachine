set(0,'defaultaxesfontsize',24);
set(0,'defaultaxesfontname','Tahoma');
set(0,'defaultaxesfontweight','bold');
accury_deform = getaverageaccuracy('accuracy_plot0_AIRPLANES.txt','accuracy_plot0_BIKES.txt','accuracy_plot0_CHAIRS.txt','accuracy_plot0_HELICOPTERS.txt');
accury_deform_bsm = getaverageaccuracy('accuracy_plotBSM_AIRPLANES.txt','accuracy_plotBSM_BIKES.txt','accuracy_plotBSM_CHAIRS.txt','accuracy_plotBSM_HELICOPTERS.txt');
accury_deform_box = getaverageaccuracy('accuracy_plot0_AIRPLANES_BOX.txt','accuracy_plot0_BIKES_BOX.txt','accuracy_plot0_CHAIRS_BOX.txt','accuracy_plot0_HELICOPTERS_BOX.txt');
accury_deform_box_bsm = getaverageaccuracy('accuracy_plotBSM_AIRPLANES_BOX.txt','accuracy_plotBSM_BIKES_BOX.txt','accuracy_plotBSM_CHAIRS_BOX.txt','accuracy_plotBSM_HELICOPTERS_BOX.txt');
accury_peter = getaverageaccuracy('peter_gt_airplane.txt','peter_gt_bike.txt','peter_gt_chair.txt','peter_gt_helicopter.txt');
accury_peter_old = getaverageaccuracy('peter_gt_airplane_new.txt','peter_gt_bike_new.txt','peter_gt_chair_new.txt','peter_gt_helicopter_new.txt');
X=[0 0.00125 0.0025 0.00375 0.005 0.00625 0.0075 0.00875 0.01 0.01125 0.0125 0.01375 0.015 0.01625 0.0175 0.01875 0.02 0.02125 0.0225 0.02375 0.025 0.02625 0.0275 0.02875 0.03 0.03125 0.0325 0.03375 0.035 0.03625 0.0375 0.03875 0.04 0.04125 0.0425 0.04375 0.045 0.04625 0.0475 0.04875 0.05 0.05125 0.0525 0.05375 0.055 0.05625 0.0575 0.05875 0.06 0.06125 0.0625 0.06375 0.065 0.06625 0.0675 0.06875 0.07 0.07125 0.0725 0.07375 0.075 0.07625 0.0775 0.07875 0.08 0.08125 0.0825 0.08375 0.085 0.08625 0.0875 0.08875 0.09 0.09125 0.0925 0.09375 0.095 0.09625 0.0975 0.09875 0.1 0.10125 0.1025 0.10375 0.105 0.10625 0.1075 0.10875 0.11 0.11125 0.1125 0.11375 0.115 0.11625 0.1175 0.11875 0.12 0.12125 0.1225 0.12375 0.125 0.12625 0.1275 0.12875 0.13 0.13125 0.1325 0.13375 0.135 0.13625 0.1375 0.13875 0.14 0.14125 0.1425 0.14375 0.145 0.14625 0.1475 0.14875 0.15 0.15125 0.1525 0.15375 0.155 0.15625 0.1575 0.15875 0.16 0.16125 0.1625 0.16375 0.165 0.16625 0.1675 0.16875 0.17 0.17125 0.1725 0.17375 0.175 0.17625 0.1775 0.17875 0.18 0.18125 0.1825 0.18375 0.185 0.18625 0.1875 0.18875 0.19 0.19125 0.1925 0.19375 0.195 0.19625 0.1975 0.19875 0.2 0.20125 0.2025 0.20375 0.205 0.20625 0.2075 0.20875 0.21 0.21125 0.2125 0.21375 0.215 0.21625 0.2175 0.21875 0.22 0.22125 0.2225 0.22375 0.225 0.22625 0.2275 0.22875 0.23 0.23125 0.2325 0.23375 0.235 0.23625 0.2375 0.23875 0.24 0.24125 0.2425 0.24375 0.245 0.24625 0.2475 0.24875 ];
Yfinal1 = [0.00137492 0.00436825 0.00787717 0.0117298 0.0217983 0.0339005 0.0438401 0.0535075 0.069004 0.0791155 0.0870929 0.099682 0.116367 0.127438 0.137378 0.14905 0.16131 0.171851 0.181819 0.194108 0.205179 0.217167 0.229211 0.239466 0.25048 0.261651 0.271447 0.278336 0.28892 0.299433 0.310547 0.320343 0.32696 0.33478 0.342098 0.348415 0.358168 0.366231 0.371889 0.379279 0.387285 0.395663 0.403941 0.410959 0.417146 0.426399 0.431984 0.438658 0.445132 0.453138 0.458466 0.465169 0.470668 0.476283 0.482198 0.487038 0.492452 0.498396 0.503165 0.50772 0.512646 0.5169 0.521555 0.526066 0.530363 0.536736 0.542265 0.549111 0.553679 0.557933 0.56223 0.565982 0.570938 0.576079 0.580805 0.584501 0.588196 0.592879 0.597433 0.601086 0.604351 0.608146 0.613045 0.6179 0.621767 0.625806 0.629114 0.632967 0.637321 0.641216 0.644467 0.647074 0.650597 0.652731 0.65551 0.659749 0.662614 0.66817 0.670605 0.673269 0.676033 0.677995 0.680473 0.683008 0.685357 0.688293 0.691602 0.69342 0.695597 0.697889 0.700667 0.702816 0.704849 0.70684 0.70886 0.710679 0.712655 0.714789 0.717009 0.718327 0.721005 0.722766 0.724371 0.72576 0.727622 0.729441 0.731345 0.732964 0.734869 0.736244 0.737432 0.739523 0.740941 0.742073 0.743662 0.744808 0.746813 0.74826 0.749907 0.751497 0.753086 0.755006 0.756524 0.757798 0.759675 0.761135 0.762167 0.763542 0.765403 0.766435 0.767566 0.768511 0.769901 0.77096 0.771805 0.772937 0.774126 0.775143 0.776131 0.777835 0.779124 0.780227 0.781229 0.782332 0.783263 0.78418 0.785827 0.786443 0.787889 0.788992 0.790052 0.791498 0.792086 0.792701 0.793905 0.794835 0.795709 0.796669 0.797614 0.798516 0.79929 0.799691 0.800564 0.800879 0.80171 0.802283 0.803028 0.804088 0.804675 0.805248 0.806007 0.806594 0.807038 0.808098 0.80847 0.809 0.809845 0.810633 0.811091 0.812108 ];;
Yfinal2 = [0.00144906 0.00569166 0.0116821 0.020496 0.0287272 0.0430983 0.0567523 0.0708694 0.0807141 0.0942336 0.104467 0.117523 0.127383 0.13784 0.147102 0.159128 0.170705 0.180341 0.192755 0.203062 0.213848 0.224813 0.236451 0.247714 0.258127 0.266582 0.278847 0.289304 0.302256 0.312339 0.32187 0.33173 0.341336 0.352256 0.361324 0.370376 0.381356 0.390783 0.398192 0.410039 0.418957 0.42683 0.436809 0.442979 0.449761 0.456991 0.463878 0.47081 0.479803 0.485823 0.491575 0.49885 0.506498 0.512593 0.518061 0.52314 0.527263 0.532133 0.537451 0.542874 0.549029 0.553989 0.557559 0.563206 0.56709 0.57202 0.576367 0.581745 0.586495 0.590768 0.59386 0.596504 0.602256 0.605244 0.609098 0.613549 0.617523 0.620571 0.624036 0.628862 0.632327 0.636017 0.638408 0.64026 0.64383 0.646952 0.64988 0.652584 0.654004 0.656005 0.658635 0.660875 0.663878 0.666059 0.667986 0.669376 0.671646 0.673872 0.676277 0.677891 0.679668 0.68182 0.684001 0.685793 0.688198 0.689842 0.692038 0.694174 0.695787 0.697356 0.698745 0.700329 0.701479 0.702883 0.704601 0.705542 0.706558 0.708545 0.710099 0.711697 0.712758 0.714565 0.715895 0.717583 0.718405 0.719615 0.720944 0.722259 0.72305 0.725007 0.726352 0.727398 0.728727 0.729444 0.730281 0.731237 0.732148 0.733717 0.734613 0.735524 0.736182 0.737631 0.738467 0.739005 0.739886 0.740589 0.741948 0.742994 0.74386 0.74513 0.74625 0.747431 0.748342 0.749641 0.750433 0.751165 0.751808 0.752644 0.753257 0.754033 0.754631 0.755423 0.756259 0.756707 0.75729 0.757738 0.758754 0.759396 0.759845 0.760756 0.761817 0.762653 0.763191 0.763968 0.764371 0.764969 0.765477 0.766194 0.766433 0.766926 0.767314 0.767658 0.768091 0.768748 0.769166 0.769779 0.770063 0.770601 0.770914 0.771123 0.771452 0.7719 0.772109 0.772722 0.772931 0.773424 0.773887 0.774186 0.775067 0.775381 ];
Yfinal3 = [0 0.00186896 0.00484425 0.00859291 0.016015 0.0263695 0.0356176 0.0440387 0.053072 0.0620086 0.0734479 0.0873792 0.0992374 0.113136 0.127229 0.140999 0.158367 0.170612 0.184135 0.200193 0.215027 0.227991 0.242256 0.254715 0.267573 0.27956 0.291708 0.304339 0.315865 0.329388 0.339678 0.352309 0.364898 0.375435 0.386466 0.397798 0.40971 0.420881 0.430537 0.440892 0.450773 0.464372 0.474168 0.485156 0.495381 0.503437 0.51203 0.521611 0.528131 0.536294 0.544447 0.552073 0.561729 0.569699 0.57666 0.584006 0.591332 0.598593 0.605424 0.612438 0.620516 0.626799 0.631622 0.637454 0.643663 0.649979 0.655532 0.660849 0.667454 0.672632 0.679194 0.684146 0.689989 0.695693 0.700236 0.704479 0.709345 0.713695 0.719001 0.722718 0.726681 0.730097 0.734501 0.738604 0.742084 0.746079 0.749291 0.752062 0.755338 0.758335 0.761676 0.765392 0.769398 0.77246 0.775285 0.777895 0.780118 0.782803 0.785081 0.788013 0.790548 0.792922 0.795081 0.797046 0.799334 0.801837 0.803867 0.805693 0.808292 0.810311 0.812395 0.814769 0.816509 0.818131 0.819549 0.820795 0.823093 0.824619 0.825886 0.827497 0.829044 0.830226 0.831633 0.833265 0.834479 0.835714 0.836821 0.838324 0.839388 0.84072 0.842041 0.84319 0.844071 0.84493 0.846316 0.847465 0.848561 0.849484 0.850591 0.851257 0.852019 0.853555 0.854597 0.856004 0.856767 0.85754 0.858367 0.85928 0.860107 0.860967 0.861654 0.862642 0.863502 0.864318 0.865779 0.866391 0.86725 0.867712 0.86826 0.869098 0.869753 0.870193 0.87072 0.871386 0.872159 0.872664 0.873136 0.873813 0.87449 0.875134 0.875671 0.876101 0.876531 0.877358 0.877948 0.878668 0.879216 0.879699 0.880161 0.880559 0.880934 0.881611 0.882095 0.88247 0.882922 0.88334 0.883835 0.884125 0.884608 0.884995 0.885317 0.885639 0.886144 0.886595 0.887422 0.887669 0.888228 0.888937 0.889216 0.889731 ];
Yfinal4 = [0.000622193 0.00391526 0.00972745 0.0193487 0.0273158 0.0359051 0.0458298 0.0581371 0.0719164 0.0830551 0.101448 0.113467 0.12626 0.139766 0.154061 0.170238 0.186203 0.200407 0.214019 0.228314 0.246995 0.260623 0.278864 0.29715 0.313008 0.3253 0.344346 0.357776 0.372845 0.387793 0.403439 0.416793 0.43294 0.444761 0.458601 0.474156 0.488406 0.502549 0.515661 0.527604 0.541216 0.554252 0.565436 0.577607 0.589489 0.600219 0.610993 0.621768 0.632906 0.644273 0.655654 0.666687 0.67602 0.68681 0.69634 0.706598 0.715309 0.722548 0.731365 0.738892 0.746844 0.753551 0.759667 0.765752 0.771595 0.777832 0.784782 0.790564 0.796422 0.802704 0.807075 0.812325 0.816817 0.821856 0.826757 0.831189 0.834618 0.839581 0.84301 0.846986 0.849596 0.853496 0.857639 0.86116 0.863967 0.866775 0.869856 0.872435 0.875015 0.877853 0.880129 0.882132 0.885122 0.887793 0.890206 0.892497 0.895745 0.89881 0.900571 0.902543 0.904289 0.906368 0.908007 0.909782 0.911087 0.912908 0.914653 0.916019 0.918295 0.919828 0.921558 0.923152 0.9247 0.925731 0.926703 0.927932 0.929632 0.931195 0.932636 0.934032 0.935155 0.936354 0.93684 0.938008 0.938813 0.939996 0.941165 0.941893 0.943047 0.943987 0.94508 0.946294 0.947129 0.947933 0.948707 0.949284 0.949982 0.950953 0.951879 0.952304 0.953017 0.953715 0.954276 0.954717 0.95543 0.955946 0.956416 0.957023 0.957949 0.958632 0.959391 0.959861 0.960301 0.960832 0.961181 0.961682 0.963109 0.963776 0.964323 0.964747 0.965188 0.965764 0.96628 0.966569 0.966827 0.967176 0.967434 0.967858 0.968207 0.968678 0.969027 0.969361 0.969801 0.97018 0.970651 0.970969 0.971076 0.971501 0.971774 0.972001 0.972441 0.97276 0.973018 0.973367 0.973716 0.973898 0.97408 0.974399 0.974581 0.974718 0.974794 0.975021 0.975294 0.975446 0.97578 0.975856 0.976311 0.976433 0.976584 0.976706 ];
accury_vova = (Yfinal1 + Yfinal2 + Yfinal3 + Yfinal4)/4;
fig = figure('Position', [0 0 825 450]);
plot(X, accury_vova*100, 'm', 'LineWidth', 3), hold all;
plot(X, accury_peter_old*100, '--r', 'LineWidth', 3), hold all;
plot(X, accury_peter*100, 'r', 'LineWidth', 3), hold all;
%plot(X, accury_deform*100, '--g', 'LineWidth', 3), hold all;
plot(X, accury_deform_bsm*100, 'b', 'LineWidth', 3), hold all;
%plot(X, accury_deform_box*100, '--b', 'LineWidth', 3), hold all;
%plot(X, accury_deform_box_bsm*100, 'b', 'LineWidth', 3), hold all;
xlabel('Euclidean Distance');
ylabel('% Correspondences');
axis([0, 0.25, 0, 100]);
set(gca,'XTick',0:.05:.25);
set(gca,'YTick',0:10:100);
%legend('Our:all', 'Our:gtonly', 'Huang12:gtonly', 'Kim12:gtonly', 'Our:init', 'Location', 'SE');
%legend('Our:all', 'Our:gtonly', 'Huang12:gtonly', 'Huang12:1000', 'Kim12:gtonly', 'Our:init', 'Location', 'SE');
legend('Kim et al. 2013', 'Huang et al. 2013','Huang et al. 2013 updated','Our method', 'Location', 'SE');
title('average');
fName = 'chair_perpoint_new.pdf';
% cmnpfx = '/Users/vk/Research/TalksAndPapers/2013/TemplateAnalysis/';
% outFile1 = [ cmnpfx 'nosvn/data/CorrespondenceResults/' fName];
% outFile2 = [ cmnpfx 'evolving_template/figures/quantitative/' fName];
% print(fig, '-dpdf', outFile1);
% %system(['/usr/texbin/pdfcrop ' outFile1 ' ' outFile2])
% ['pdfcrop ' outFile1 ' ' outFile2]
% %close(fig);